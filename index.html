<!DOCTYPE html>
<html lang="ru">
    <head>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/history.css">
    </head>

    <body>
        <main>
        <div class="pos_chess">
        <div class="row">
            <div class="white"><img/></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <span class="label">8</span>
        </div>
        <div class="row">
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <span class="label">7</span>
        </div>
        <div class="row">
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <span class="label">6</span>
        </div>
        <div class="row">
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <span class="label">5</span>
        </div>
        <div class="row">
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <span class="label">4</span>
        </div>
        <div class="row">
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <span class="label">3</span>
        </div>
        <div class="row">
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <span class="label">2</span>
        </div>
        <div class="row">
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <div class="black"><img></div>
            <div class="white"><img></div>
            <span class="label">1</span>
        </div> 
        <div class="captions">
            <div class="label2">a</div>
            <div class="label2">b</div>
            <div class="label2">c</div>
            <div class="label2">d</div>
            <div class="label2">e</div>
            <div class="label2">f</div>
            <div class="label2">g</div>
            <div class="label2">h</div>
        </div>
    </div>
    <div class="history-container">
        <h1 class="history-title">История ходов</h1>
        <ol class="history-list">
            <li class="history-element">
                123 123
            </li>
            <li class="history-element">
                123 123
            </li>
            <li class="history-element">
                123 123
            </li>
            <li class="history-element">
                123 123
            </li>
            <li class="history-element">
                123 123
            </li>
            <li class="history-element">
                123 123
            </li>
            <li class="history-element">
                123 123
            </li>
            <li class="history-element">
                123 123
            </li>
            <li class="history-element">
                123 123
            </li>
            <li class="history-element">
                123 123
            </li>
            <li class="history-element">
                123 123
            </li>
            <li class="history-element">
                123 123
            </li>
            <li class="history-element">
                123 123
            </li>
            <li class="history-element">
                123 123
            </li>
            <li class="history-element">
                123 123
            </li>
            <li class="history-element">
                123 123
            </li>
        </ol>
    </div>
    </main>
    <script>
        let rows = document.querySelectorAll('.row')
        class Figure  {
            constructor (x, y, isWhite, image ){
                this.x =x
                this.y =y
                this.isWhite = isWhite
                this.image = `./src/${ this.isWhite? 'white':'black' }_${image}.png` 
            }
            draw () {
                let row = rows[7-this.y]
                let div = row.querySelectorAll('div')[this.x]
                let image = div.querySelector('img')
                image.src = this.image
            }
        }

        class Pawn extends Figure {
            constructor (x, y, isWhite) {
                super(x, y, isWhite, 'pawn')
            }
        }

        class Rook extends Figure {
            constructor (x, y, isWhite) {
                super(x, y, isWhite, 'rook')
            }
        }
        
        class King extends Figure {
            constructor(x, y, isWhite) {
                super(x, y, isWhite, 'king')
            }
        }

        class Queen extends Figure {
            constructor(x, y, isWhite) {
                super(x, y, isWhite, "queen")
            }
        }
        class Knight extends Figure {
            constructor (x,y,isWhite){
                super(x,y,isWhite, 'knight')
            }
        }
        class Bishop extends Figure {
            constructor (x,y,isWhite){
                super(x,y,isWhite, 'bishop')
            }
            move (x,y,x2,y2) {
                if (math.abs(x - x2)==math.abs(y - y2))
            }
        }
        let figures = []
        /* Pawns */
        for (let i=0; i<8;i++) {
            figures.push(new Pawn(i,1, true))
        }

        for (let i=0; i<8;i++) {
            figures.push(new Pawn(i,6, false))
        }
        /* Kings */
        figures.push(new King(4,0, true))

        figures.push(new King(4,7, false))
        /* Queens */
        figures.push(new Queen(3,0, true))

        figures.push(new Queen(3, 7, false))

        /* Rook */
        figures.push(new Rook(0,0, true))
        figures.push(new Rook(7,0, true))
        
        figures.push(new Rook(0,7, false))
        figures.push(new Rook(7,7, false))

        for (let i=0; i<figures.length;i++) {
            figures[i].draw()
        }
    </script>
    </body>
    
</html>
